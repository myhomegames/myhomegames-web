import{r as s,b as de,j as e,d as ue}from"./react-vendor-mZEhzm5d.js";import{u as re,b as N,C as ie,c as me,d as se,e as ge,T as he,D as fe}from"./page-CategoriesPage.tsx-Pj1wP9IV.js";import{u as pe,c as ve,B as ye,a as xe,L as be,S as ke,b as we,G as je}from"./page-CategoryPage.tsx-BGJknrhL.js";import{A as C,g as J,a as le}from"./page-AddGamePage.tsx-BrD1K-KO.js";import{u as ce}from"./i18n-vendor-BQWJFj1H.js";/* empty css                                  */function Se({isOpen:p,onClose:R,collection:r,onCollectionUpdate:U}){const{t:y}=ce(),{setLoading:E}=re(),[b,h]=s.useState(r.title),[D,W]=s.useState(r.summary||""),[f,j]=s.useState(!1),[K,k]=s.useState(null),[H,V]=s.useState("INFO"),[Y,B]=s.useState(!1),[A,_]=s.useState(!1),O=s.useRef(null),Q=s.useRef(null),[Z,F]=s.useState(null),[te,M]=s.useState(null),[I,X]=s.useState(null),[z,G]=s.useState(null),[$,q]=s.useState(!1),[l,T]=s.useState(!1),[L,ee]=s.useState(Date.now()),oe=s.useMemo(()=>{if(!r?.cover)return"";const t=r.cover.split("?")[0].split("&")[0];if(t.startsWith("http"))return`${t}?t=${L}`;const n=N(C,t),m=n.includes("?")?"&":"?";return`${n}${m}t=${L}`},[r?.cover,L]),ae=s.useMemo(()=>{if(!r?.background)return"";const t=r.background.split("?")[0].split("&")[0];if(t.startsWith("http"))return`${t}?t=${L}`;const n=N(C,t),m=n.includes("?")?"&":"?";return`${n}${m}t=${L}`},[r?.background,L]);s.useEffect(()=>{p&&r?(h(r.title||""),W(r.summary||""),k(null),V("INFO"),F(null),M(null),X(null),G(null),q(!1),T(!1),ee(Date.now())):p||(F(null),M(null),X(null),G(null))},[p,r]),s.useEffect(()=>{r&&(!r.cover&&!$&&!I&&(q(!0),F(null),ee(Date.now())),!r.background&&!l&&!z&&(T(!0),M(null),ee(Date.now())))},[r?.cover,r?.background]),s.useEffect(()=>{if(!p)return;function t(n){n.key==="Escape"&&(n.stopPropagation(),R())}return document.addEventListener("keydown",t,!0),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",t,!0),document.body.style.overflow=""}},[p,R]);const a=()=>b.trim()!==r.title.trim()||D.trim()!==(r.summary||"").trim()||I!==null||z!==null||$||l,c=t=>{const n=t.target.files?.[0];if(n){if(!n.type.startsWith("image/")){k(y("gameDetail.invalidImageType","File must be an image")),t.target.value="";return}const m=new FileReader;m.onloadend=()=>{F(m.result)},m.readAsDataURL(n),X(n),q(!1),k(null),t.target.value=""}},i=t=>{const n=t.target.files?.[0];if(n){if(!n.type.startsWith("image/")){k(y("gameDetail.invalidImageType","File must be an image")),t.target.value="";return}const m=new FileReader;m.onloadend=()=>{M(m.result)},m.readAsDataURL(n),G(n),T(!1),k(null),t.target.value=""}},v=()=>{q(!0),F(null),X(null),ee(Date.now())},w=()=>{T(!0),M(null),G(null),ee(Date.now())},S=async()=>{j(!0),k(null),E(!0);try{let t=null,n=null;if($)try{const g=N(C,`/collections/${r.id}/delete-cover`),o=await fetch(g,{method:"DELETE",headers:{"X-Auth-Token":J()||""}});if(!o.ok){const d=await o.json().catch(()=>({error:"Failed to remove cover"}));throw new Error(d.error||"Failed to remove cover")}const u=await o.json();u.collection&&(t=u.collection.cover||null)}catch(g){k(String(g.message||g)),j(!1),E(!1);return}if(l)try{const g=N(C,`/collections/${r.id}/delete-background`),o=await fetch(g,{method:"DELETE",headers:{"X-Auth-Token":J()||""}});if(!o.ok){const d=await o.json().catch(()=>({error:"Failed to remove background"}));throw new Error(d.error||"Failed to remove background")}const u=await o.json();u.collection&&(n=u.collection.background||null)}catch(g){k(String(g.message||g)),j(!1),E(!1);return}if(I){B(!0);try{const g=new FormData;g.append("file",I);const o=N(C,`/collections/${r.id}/upload-cover`),u=await fetch(o,{method:"POST",headers:{"X-Auth-Token":J()||""},body:g});if(!u.ok){const x=await u.json().catch(()=>({error:"Failed to upload cover"}));throw new Error(x.error||"Failed to upload cover")}const d=await u.json();d.collection&&(d.collection.cover&&(t=d.collection.cover),d.collection.background&&!n&&(n=d.collection.background))}catch(g){B(!1),E(!1),j(!1),k(String(g.message||g));return}finally{B(!1)}}if(z){_(!0);try{const g=new FormData;g.append("file",z);const o=N(C,`/collections/${r.id}/upload-background`),u=await fetch(o,{method:"POST",headers:{"X-Auth-Token":J()||""},body:g});if(!u.ok){const x=await u.json().catch(()=>({error:"Failed to upload background"}));throw new Error(x.error||"Failed to upload background")}const d=await u.json();d.collection&&(d.collection.background&&(n=d.collection.background),d.collection.cover&&!t&&(t=d.collection.cover))}catch(g){_(!1),E(!1),j(!1),k(String(g.message||g));return}finally{_(!1)}}const m={};if(b.trim()!==r.title.trim()&&(m.title=b.trim()),D.trim()!==(r.summary||"").trim()&&(m.summary=D.trim()),Object.keys(m).length>0){const g=N(C,`/collections/${r.id}`),o=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json","X-Auth-Token":le},body:JSON.stringify(m)});if(!o.ok){const P=await o.json();throw new Error(P.error||"Failed to update collection")}const u=await o.json();let d=t!==null?t:u.collection.cover,x=n!==null?n:u.collection.background;if(t&&d){const P=d.includes("?")?"&":"?";d=`${d}${P}t=${Date.now()}`}if(n&&x){const P=x.includes("?")?"&":"?";x=`${x}${P}t=${Date.now()}`}const ne={id:u.collection.id,title:u.collection.title,summary:u.collection.summary,cover:d,background:x};window.dispatchEvent(new CustomEvent("collectionUpdated",{detail:{collection:ne}})),U(ne)}else if(I||z||$||l){const g=N(C,`/collections/${r.id}`),o=await fetch(g,{method:"GET",headers:{Accept:"application/json","X-Auth-Token":le}});if(o.ok){const u=await o.json();let d=t!==null?t:u.cover,x=n!==null?n:u.background;if((t!==null||$)&&d){const P=d.includes("?")?"&":"?";d=`${d}${P}t=${Date.now()}`}if((n!==null||l)&&x){const P=x.includes("?")?"&":"?";x=`${x}${P}t=${Date.now()}`}const ne={id:u.id,title:u.title,summary:u.summary||"",cover:d,background:x};window.dispatchEvent(new CustomEvent("collectionUpdated",{detail:{collection:ne}})),U(ne)}}else{R();return}R()}catch(t){k(String(t.message||t))}finally{j(!1),E(!1)}};return p?de.createPortal(e.jsx("div",{className:"edit-collection-modal-overlay",onClick:R,children:e.jsxs("div",{className:"edit-collection-modal-container",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"edit-collection-modal-header",children:[e.jsxs("h2",{children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),y("collectionDetail.editCollection","Edit Collection")]}),e.jsx("button",{className:"edit-collection-modal-close",onClick:R,"aria-label":"Close",children:"Ã—"})]}),e.jsxs("div",{className:"edit-collection-modal-content",children:[K&&e.jsx("div",{className:"edit-collection-modal-error",children:K}),e.jsxs("div",{className:"edit-collection-modal-tabs",children:[e.jsx("button",{className:`edit-collection-modal-tab ${H==="INFO"?"active":""}`,onClick:()=>V("INFO"),disabled:f,children:y("gameDetail.info","INFO")}),e.jsx("button",{className:`edit-collection-modal-tab ${H==="MEDIA"?"active":""}`,onClick:()=>V("MEDIA"),disabled:f,children:y("gameDetail.media","MEDIA")})]}),H==="INFO"&&e.jsxs("div",{className:"edit-collection-modal-info",children:[e.jsxs("div",{className:"edit-collection-modal-field",children:[e.jsx("label",{htmlFor:"edit-collection-title",children:y("collectionDetail.title","Title")}),e.jsx("input",{id:"edit-collection-title",name:"title",type:"text",value:b,onChange:t=>h(t.target.value),disabled:f})]}),e.jsxs("div",{className:"edit-collection-modal-field",children:[e.jsx("label",{htmlFor:"edit-collection-summary",children:y("collectionDetail.summary","Summary")}),e.jsx("textarea",{id:"edit-collection-summary",name:"summary",value:D,onChange:t=>W(t.target.value),disabled:f,rows:15})]})]}),H==="MEDIA"&&e.jsxs("div",{className:"edit-collection-modal-media",children:[e.jsxs("div",{className:"edit-collection-modal-media-row",children:[e.jsxs("div",{className:"edit-collection-modal-media-info",children:[e.jsx("div",{className:"edit-collection-modal-label",children:y("gameDetail.cover","Cover")}),e.jsx("div",{className:"edit-collection-modal-media-description",children:y("gameDetail.coverFormat","Recommended format: WebP, ratio 2:3 (e.g., 400x600px)")})]}),e.jsx("div",{className:"edit-collection-modal-media-image-container",children:(()=>{const t=$?"":Z||oe,n=t&&t.trim()!=="";return e.jsxs(e.Fragment,{children:[e.jsx(ie,{title:r.title,coverUrl:t,width:150,height:200,showTitle:!1,detail:!1,play:!1,showBorder:!0,aspectRatio:"3/4",onUpload:()=>!Y&&!f&&O.current?.click(),uploading:Y,showRemoveButton:!!n&&!$,removeMediaType:"cover",removeResourceId:r.id,removeResourceType:"collections",onCollectionUpdate:U,onRemoveSuccess:v,removeDisabled:f||Y},`cover-${$?"removed":Z?"preview":oe}`),e.jsx("input",{ref:O,id:"edit-collection-cover-input",name:"cover",type:"file",accept:"image/*",style:{display:"none"},onChange:c})]})})()})]}),e.jsxs("div",{className:"edit-collection-modal-media-row",children:[e.jsxs("div",{className:"edit-collection-modal-media-info",children:[e.jsx("div",{className:"edit-collection-modal-label",children:y("gameDetail.background","Background")}),e.jsx("div",{className:"edit-collection-modal-media-description",children:y("gameDetail.backgroundFormat","Recommended format: WebP, ratio 16:9 (e.g., 1920x1080px)")})]}),e.jsx("div",{className:"edit-collection-modal-media-image-container",children:(()=>{const t=l?"":te||ae,n=t&&t.trim()!=="";return e.jsxs(e.Fragment,{children:[e.jsx(ie,{title:r.title,coverUrl:t,width:300,height:169,showTitle:!1,detail:!1,play:!1,showBorder:!0,aspectRatio:"16/9",onUpload:()=>!A&&!f&&Q.current?.click(),uploading:A,showRemoveButton:!!n&&!l,removeMediaType:"background",removeResourceId:r.id,removeResourceType:"collections",onCollectionUpdate:U,onRemoveSuccess:w,removeDisabled:f||A},`background-${l?"removed":te?"preview":ae}`),e.jsx("input",{ref:Q,id:"edit-collection-background-input",name:"background",type:"file",accept:"image/*",style:{display:"none"},onChange:i})]})})()})]})]})]}),e.jsxs("div",{className:"edit-collection-modal-footer",children:[e.jsx("button",{className:"edit-collection-modal-cancel",onClick:R,disabled:f,children:y("common.cancel","Cancel")}),e.jsx("button",{className:"edit-collection-modal-save",onClick:S,disabled:f||!a(),children:f?y("common.saving","Saving..."):y("common.save","Save")})]})]})}),document.body):null}function Me({onGameClick:p,onGamesLoaded:R,onPlay:r,allCollections:U=[]}){const{t:y}=ce(),{setLoading:E,isLoading:b}=re(),{collectionId:h}=ue(),[D,W]=s.useState(null),[f,j]=s.useState([]),[K,k]=s.useState(!1),[H]=s.useState("grid"),[V,Y]=s.useState(()=>{const a=localStorage.getItem("coverSize");return a?parseInt(a,10):150}),[B,A]=s.useState(null),[_,O]=s.useState(!1),Q=s.useRef(null),Z=s.useRef(new Map);me(Q);const F=a=>{Y(a),localStorage.setItem("coverSize",a.toString())};s.useEffect(()=>{h&&(te(h),M(h))},[h]),pe({setGames:j,enabledEvents:["gameUpdated","gameDeleted"]}),s.useLayoutEffect(()=>{!b&&D&&f.length>0?requestAnimationFrame(()=>{requestAnimationFrame(()=>{k(!0)})}):b&&k(!1)},[b,D,f.length]);async function te(a){try{const c=N(C,`/collections/${a}`),i=await fetch(c,{headers:{Accept:"application/json","X-Auth-Token":J()}});if(i.ok){const m=await i.json();W({id:String(m.id),title:m.title,summary:m.summary,cover:m.cover,background:m.background});return}const v=N(C,"/collections"),w=await fetch(v,{headers:{Accept:"application/json","X-Auth-Token":J()}});if(!w.ok)throw new Error(`HTTP ${w.status}`);const n=((await w.json()).collections||[]).find(m=>String(m.id)===String(a));n&&W({id:String(n.id),title:n.title,summary:n.summary,cover:n.cover,background:n.background})}catch(c){const i=String(c.message||c);console.error("Error fetching collection info:",i)}}async function M(a){E(!0);try{const c=N(C,`/collections/${a}/games`),i=await fetch(c,{headers:{Accept:"application/json","X-Auth-Token":J()}});if(!i.ok)throw new Error(`HTTP ${i.status}`);const S=((await i.json()).games||[]).map(o=>({id:o.id,title:o.title,summary:o.summary,cover:o.cover,background:o.background,day:o.day,month:o.month,year:o.year,stars:o.stars,command:o.command||null,themes:o.themes||null,platforms:o.platforms||null,gameModes:o.gameModes||null,playerPerspectives:o.playerPerspectives||null,websites:o.websites||null,ageRatings:o.ageRatings||null,developers:o.developers||null,publishers:o.publishers||null,franchise:o.franchise||null,collection:o.collection||null,screenshots:o.screenshots||null,videos:o.videos||null,gameEngines:o.gameEngines||null,keywords:o.keywords||null,alternativeNames:o.alternativeNames||null,similarGames:o.similarGames||null})),t=[...S].sort((o,u)=>{const d=o.year??0,x=u.year??0;return d!==0&&x!==0?d-x:d!==0&&x===0?-1:d===0&&x!==0?1:0}),n=S.map(o=>o.id),m=t.map(o=>o.id),g=n.length===m.length&&n.every((o,u)=>o===m[u]);A(g?null:n),j(S),R(S)}catch(c){const i=String(c.message||c);console.error("Error fetching collection games:",i)}finally{E(!1)}}const I=s.useMemo(()=>{if(B&&B.length===f.length){const c=new Map(f.map(i=>[i.id,i]));return B.map(i=>c.get(i)).filter(Boolean)}const a=[...f];return a.sort((c,i)=>{const v=c.year??0,w=i.year??0;return v!==0&&w!==0?v-w:v!==0&&w===0?-1:v===0&&w!==0?1:ve(c.title||"",i.title||"")}),a},[f,B]),X=a=>{j(c=>c.map(i=>i.id===a.id?a:i)),window.dispatchEvent(new CustomEvent("gameUpdated",{detail:{game:a}})),h&&M(h)},z=a=>{j(c=>c.filter(i=>String(i.id)!==String(a.id)))},G=a=>{j(c=>c.filter(i=>String(i.id)!==String(a)))},$=async(a,c)=>{if(a===c)return;const i=[...I],[v]=i.splice(a,1);i.splice(c,0,v);const w=i.map(S=>S.id);if(A(w),j(i),h)try{const S=N(C,`/collections/${h}/games/order`),t=await fetch(S,{method:"PUT",headers:{"Content-Type":"application/json","X-Auth-Token":J()},body:JSON.stringify({gameIds:w})});if(!t.ok)throw new Error(`HTTP ${t.status}`)}catch(S){const t=String(S.message||S);console.error("Error saving collection order:",t),A(null),M(h)}},q=s.useMemo(()=>{const a=f.map(v=>v.year).filter(v=>v!=null);if(a.length===0)return null;const c=Math.min(...a),i=Math.max(...a);return c===i?c.toString():`${c} - ${i}`},[f]),l=s.useMemo(()=>{const a=f.map(v=>v.stars).filter(v=>v!=null);return a.length===0?null:a.reduce((v,w)=>v+w,0)/a.length/10*5},[f]);if(!h)return e.jsx("div",{className:"bg-[#1a1a1a] text-white flex items-center justify-center",style:{width:"100%",height:"100%"},children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-gray-400",children:"Collection not found"})})});const T=D?.cover?se(C,D.cover,!0):"",L=240,ee=360,oe=ge(C,D?.background),ae=!!(oe&&oe.trim()!=="");return e.jsx(ye,{backgroundUrl:oe,hasBackground:ae,elementId:h||"",children:e.jsx(Ce,{collection:D,collectionCoverUrl:T,collectionCoverWidth:L,collectionCoverHeight:ee,yearRange:q,averageRating:l,onPlay:r,sortedGames:I,onGameClick:p,onGameUpdate:X,onGameDelete:z,buildCoverUrl:(a,c,i)=>se(a,c,i??!1),coverSize:V,handleCoverSizeChange:F,viewMode:H,itemRefs:Z,handleDragEnd:$,scrollContainerRef:Q,isReady:K,isEditModalOpen:_,onEditModalOpen:()=>O(!0),onEditModalClose:()=>O(!1),onCollectionUpdate:a=>{W(a)},t:y,allCollections:U,collectionId:h,onRemoveFromCollection:G})})}function Ce({collection:p,collectionCoverUrl:R,collectionCoverWidth:r,collectionCoverHeight:U,yearRange:y,averageRating:E,onPlay:b,sortedGames:h,onGameClick:D,onGameUpdate:W,onGameDelete:f,buildCoverUrl:j,coverSize:K,handleCoverSizeChange:k,viewMode:H,itemRefs:V,handleDragEnd:Y,scrollContainerRef:B,isReady:A,isEditModalOpen:_,onEditModalOpen:O,onEditModalClose:Q,onCollectionUpdate:Z,t:F,allCollections:te=[],collectionId:M,onRemoveFromCollection:I}){const{hasBackground:X,isBackgroundVisible:z}=xe(),{isLoading:G}=re(),q=(()=>{let l=1;return y&&l++,E!==null&&l++,(b&&h.length>0||p)&&l++,Math.max(2,Math.min(6,7-l))})();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:X&&z?"game-detail-libraries-bar-transparent":"",style:{position:"relative",zIndex:1e3,pointerEvents:"auto"},children:e.jsx(be,{libraries:[],activeLibrary:{key:"collection",type:"collection"},onSelectLibrary:()=>{},loading:!1,error:null,coverSize:K,onCoverSizeChange:k,viewMode:H,onViewModeChange:()=>{}})}),e.jsx("div",{style:{position:"relative",zIndex:2,height:"100vh",display:"flex",flexDirection:"column"},children:e.jsx("div",{className:"home-page-main-container",style:{backgroundColor:"transparent",position:"relative",flex:1,overflow:"hidden",display:"flex",flexDirection:"column",minHeight:0},children:e.jsx("main",{className:"flex-1 home-page-content",style:{minHeight:0},children:e.jsx("div",{className:"home-page-layout",style:{minHeight:0},children:e.jsx("div",{className:"home-page-content-wrapper",style:{opacity:A?1:0,transition:"opacity 0.2s ease-in-out",minHeight:0},children:e.jsxs("div",{ref:B,className:"home-page-scroll-container",style:{paddingLeft:"64px",paddingRight:"64px",paddingTop:"5px",paddingBottom:"32px"},children:[p&&e.jsxs("div",{className:"pt-8",style:{display:"flex",flexDirection:"row",gap:"48px",alignItems:"flex-start",width:"100%",boxSizing:"border-box",marginBottom:"32px"},children:[e.jsx("div",{style:{flexShrink:0},children:e.jsx(ie,{title:p.title,coverUrl:R,width:r,height:U,onPlay:b&&h.length>0?()=>{const l=h.find(T=>!!T.command);l&&b(l)}:void 0,showTitle:!1,detail:!1,play:h.some(l=>!!l.command),showBorder:!0})}),e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"16px",minHeight:`${U}px`,minWidth:0,visibility:"visible"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",visibility:"visible"},children:[e.jsx("h1",{className:"text-white",style:{visibility:"visible",display:"block",fontFamily:"var(--font-heading-1-font-family)",fontSize:"var(--font-heading-1-font-size)",lineHeight:"var(--font-heading-1-line-height)"},children:p.title}),y&&e.jsx("div",{className:"text-white",style:{opacity:.8,fontFamily:"var(--font-body-2-font-family)",fontSize:"var(--font-body-2-font-size)",lineHeight:"var(--font-body-2-line-height)"},children:y}),E!==null&&e.jsx(ke,{rating:E}),b&&h.length>0||p?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"16px"},children:[b&&h.length>0&&h.some(l=>!!l.command)&&e.jsxs("button",{onClick:()=>{const l=h.find(T=>!!T.command);l&&b(l)},style:{backgroundColor:"#E5A00D",color:"#000000",border:"none",borderRadius:"4px",paddingTop:"6px",paddingBottom:"6px",paddingLeft:"8px",paddingRight:"12px",fontSize:"1.25rem",fontWeight:600,cursor:"pointer",transition:"background-color 0.2s ease",width:"fit-content",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",lineHeight:"1.2"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor="#F5B041"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor="#E5A00D"},children:[e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",style:{display:"block"},children:e.jsx("path",{d:"M8 5v14l11-7z"})}),F("common.play")]}),p&&e.jsx(he,{text:F("common.edit"),delay:200,children:e.jsx("button",{onClick:O,className:"collection-detail-edit-button",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),p&&e.jsx(fe,{onEdit:O,collectionId:p.id,collectionTitle:p.title,onCollectionDelete:l=>{p.id===l&&window.history.back()},onCollectionUpdate:Z,horizontal:!0,className:"collection-detail-dropdown-menu",toolTipDelay:200})]}):null,p&&e.jsx(Se,{isOpen:_,onClose:Q,collection:p,onCollectionUpdate:Z}),p.summary&&e.jsx(we,{summary:p.summary,maxLines:q})]})})]}),!G&&e.jsxs("div",{style:{width:"100%"},children:[e.jsx("div",{style:{paddingLeft:"0",marginBottom:"32px",marginTop:"8px"},children:e.jsxs("h2",{className:"text-white",style:{fontFamily:"var(--font-heading-2-font-family)",fontSize:"var(--font-heading-2-font-size)",lineHeight:"var(--font-heading-2-line-height)",fontWeight:600},children:[h.length," ",F("common.games")]})}),e.jsx("style",{children:`
                  .collection-detail-games-list .games-list-container {
                    justify-content: flex-start !important;
                  }
                `}),e.jsx("div",{className:"collection-detail-games-list",children:e.jsx(je,{games:h,onGameClick:D,onPlay:b,onGameUpdate:W,onGameDelete:f,buildCoverUrl:(l,T,L)=>j(l,T,L??!1),coverSize:K,itemRefs:V,draggable:!0,onDragEnd:Y,allCollections:te,collectionId:M,onRemoveFromCollection:I})})]})]})})})})})})]})}export{Me as C,Se as E};
