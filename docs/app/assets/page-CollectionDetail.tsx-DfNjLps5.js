import{r,b as ue,j as e,d as me}from"./react-vendor-jNdKP8wU.js";import{u as se,b as B,C as re,c as ge,e as he,h as le,i as fe,T as pe,D as ve}from"./page-CategoriesPage.tsx-PfePlHQa.js";import{u as xe,c as ye,B as be,a as ke,L as we,S as je,b as Se,G as Ce}from"./page-CategoryPage.tsx-Ct3nuy93.js";import{A as D,g as Q,b as ce}from"./page-AddGamePage.tsx-SkGFkz5J.js";import{u as de}from"./i18n-vendor-mPXi0JFR.js";/* empty css                                  */function Ee({isOpen:f,onClose:T,collection:s,onCollectionUpdate:z}){const{t:v}=de(),{setLoading:C}=se(),[k,y]=r.useState(s.title),[h,E]=r.useState(s.summary||""),[x,b]=r.useState(!1),[N,w]=r.useState(null),[W,J]=r.useState("INFO"),[K,V]=r.useState(!1),[$,I]=r.useState(!1),Z=r.useRef(null),Y=r.useRef(null),[X,R]=r.useState(null),[A,L]=r.useState(null),[O,G]=r.useState(null),[F,P]=r.useState(null),[M,q]=r.useState(!1),[c,j]=r.useState(!1),[U,_]=r.useState(Date.now()),te=r.useMemo(()=>{if(!s?.cover||s.cover.trim()==="")return"";const t=s.cover.split("?")[0].split("&")[0];if(t.startsWith("http"))return`${t}?t=${U}`;const n=B(D,t),m=n.includes("?")?"&":"?";return`${n}${m}t=${U}`},[s?.cover,U]),oe=r.useMemo(()=>{if(!s?.background||s.background.trim()==="")return"";const t=s.background.split("?")[0].split("&")[0];if(t.startsWith("http"))return`${t}?t=${U}`;const n=B(D,t),m=n.includes("?")?"&":"?";return`${n}${m}t=${U}`},[s?.background,U]);r.useEffect(()=>{f&&s?(y(s.title||""),E(s.summary||""),w(null),J("INFO"),R(null),L(null),G(null),P(null),q(!1),j(!1),_(Date.now())):f||(R(null),L(null),G(null),P(null))},[f,s]),r.useEffect(()=>{s&&(!s.cover&&!M&&!O&&(q(!0),R(null),_(Date.now())),!s.background&&!c&&!F&&(j(!0),L(null),_(Date.now())))},[s?.cover,s?.background]),r.useEffect(()=>{if(!f)return;function t(n){n.key==="Escape"&&(n.stopPropagation(),T())}return document.addEventListener("keydown",t,!0),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",t,!0),document.body.style.overflow=""}},[f,T]);const ae=()=>k.trim()!==s.title.trim()||h.trim()!==(s.summary||"").trim()||O!==null||F!==null||M||c,ee=t=>{const n=t.target.files?.[0];if(n){if(!n.type.startsWith("image/")){w(v("gameDetail.invalidImageType","File must be an image")),t.target.value="";return}const m=new FileReader;m.onloadend=()=>{R(m.result)},m.readAsDataURL(n),G(n),q(!1),w(null),t.target.value=""}},ie=t=>{const n=t.target.files?.[0];if(n){if(!n.type.startsWith("image/")){w(v("gameDetail.invalidImageType","File must be an image")),t.target.value="";return}const m=new FileReader;m.onloadend=()=>{L(m.result)},m.readAsDataURL(n),P(n),j(!1),w(null),t.target.value=""}},o=()=>{q(!0),R(null),G(null),_(Date.now())},l=()=>{j(!0),L(null),P(null),_(Date.now())},i=async()=>{b(!0),w(null),C(!0);try{let t=null,n=null;if(M)try{const d=B(D,`/collections/${s.id}/delete-cover`),p=await fetch(d,{method:"DELETE",headers:{"X-Auth-Token":Q()||""}});if(!p.ok){const u=await p.json().catch(()=>({error:"Failed to remove cover"}));throw new Error(u.error||"Failed to remove cover")}const g=await p.json();g.collection&&(t=g.collection.cover||null)}catch(d){w(String(d.message||d)),b(!1),C(!1);return}if(c)try{const d=B(D,`/collections/${s.id}/delete-background`),p=await fetch(d,{method:"DELETE",headers:{"X-Auth-Token":Q()||""}});if(!p.ok){const u=await p.json().catch(()=>({error:"Failed to remove background"}));throw new Error(u.error||"Failed to remove background")}const g=await p.json();g.collection&&(n=g.collection.background||null)}catch(d){w(String(d.message||d)),b(!1),C(!1);return}if(O){V(!0);try{const d=new FormData;d.append("file",O);const p=B(D,`/collections/${s.id}/upload-cover`),g=await fetch(p,{method:"POST",headers:{"X-Auth-Token":Q()||""},body:d});if(!g.ok){const a=await g.json().catch(()=>({error:"Failed to upload cover"}));throw new Error(a.error||"Failed to upload cover")}const u=await g.json();u.collection&&(u.collection.cover&&(t=u.collection.cover),u.collection.background&&!n&&(n=u.collection.background))}catch(d){V(!1),C(!1),b(!1),w(String(d.message||d));return}finally{V(!1)}}if(F){I(!0);try{const d=new FormData;d.append("file",F);const p=B(D,`/collections/${s.id}/upload-background`),g=await fetch(p,{method:"POST",headers:{"X-Auth-Token":Q()||""},body:d});if(!g.ok){const a=await g.json().catch(()=>({error:"Failed to upload background"}));throw new Error(a.error||"Failed to upload background")}const u=await g.json();u.collection&&(u.collection.background&&(n=u.collection.background),u.collection.cover&&!t&&(t=u.collection.cover))}catch(d){I(!1),C(!1),b(!1),w(String(d.message||d));return}finally{I(!1)}}const m={};if(k.trim()!==s.title.trim()&&(m.title=k.trim()),h.trim()!==(s.summary||"").trim()&&(m.summary=h.trim()),Object.keys(m).length>0){const d=B(D,`/collections/${s.id}`),p=await fetch(d,{method:"PUT",headers:{"Content-Type":"application/json","X-Auth-Token":ce},body:JSON.stringify(m)});if(!p.ok){const S=await p.json();throw new Error(S.error||"Failed to update collection")}const g=await p.json();let u=t!==null?t:g.collection.cover,a=n!==null?n:g.collection.background;if(t&&u){const S=u.includes("?")?"&":"?";u=`${u}${S}t=${Date.now()}`}if(n&&a){const S=a.includes("?")?"&":"?";a=`${a}${S}t=${Date.now()}`}const H={id:g.collection.id,title:g.collection.title,summary:g.collection.summary,cover:u,background:a};window.dispatchEvent(new CustomEvent("collectionUpdated",{detail:{collection:H}})),z(H)}else if(O||F||M||c){const d=B(D,`/collections/${s.id}`),p=await fetch(d,{method:"GET",headers:{Accept:"application/json","X-Auth-Token":ce}});if(p.ok){const g=await p.json();let u=t!==null?t:g.cover,a=n!==null?n:g.background;if((t!==null||M)&&u){const S=u.includes("?")?"&":"?";u=`${u}${S}t=${Date.now()}`}if((n!==null||c)&&a){const S=a.includes("?")?"&":"?";a=`${a}${S}t=${Date.now()}`}const H={id:g.id,title:g.title,summary:g.summary||"",cover:u,background:a};window.dispatchEvent(new CustomEvent("collectionUpdated",{detail:{collection:H}})),z(H)}}else{T();return}T()}catch(t){w(String(t.message||t))}finally{b(!1),C(!1)}};return f?ue.createPortal(e.jsx("div",{className:"edit-collection-modal-overlay",onClick:T,children:e.jsxs("div",{className:"edit-collection-modal-container",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"edit-collection-modal-header",children:[e.jsxs("h2",{children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),v("collectionDetail.editCollection","Edit Collection")]}),e.jsx("button",{className:"edit-collection-modal-close",onClick:T,"aria-label":"Close",children:"Ã—"})]}),e.jsxs("div",{className:"edit-collection-modal-content",children:[N&&e.jsx("div",{className:"edit-collection-modal-error",children:N}),e.jsxs("div",{className:"edit-collection-modal-tabs",children:[e.jsx("button",{className:`edit-collection-modal-tab ${W==="INFO"?"active":""}`,onClick:()=>J("INFO"),disabled:x,children:v("gameDetail.info","INFO")}),e.jsx("button",{className:`edit-collection-modal-tab ${W==="MEDIA"?"active":""}`,onClick:()=>J("MEDIA"),disabled:x,children:v("gameDetail.media","MEDIA")})]}),W==="INFO"&&e.jsxs("div",{className:"edit-collection-modal-info",children:[e.jsxs("div",{className:"edit-collection-modal-field",children:[e.jsx("label",{htmlFor:"edit-collection-title",children:v("collectionDetail.title","Title")}),e.jsx("input",{id:"edit-collection-title",name:"title",type:"text",value:k,onChange:t=>y(t.target.value),disabled:x})]}),e.jsxs("div",{className:"edit-collection-modal-field",children:[e.jsx("label",{htmlFor:"edit-collection-summary",children:v("collectionDetail.summary","Summary")}),e.jsx("textarea",{id:"edit-collection-summary",name:"summary",value:h,onChange:t=>E(t.target.value),disabled:x,rows:15})]})]}),W==="MEDIA"&&e.jsxs("div",{className:"edit-collection-modal-media",children:[e.jsxs("div",{className:"edit-collection-modal-media-row",children:[e.jsxs("div",{className:"edit-collection-modal-media-info",children:[e.jsx("div",{className:"edit-collection-modal-label",children:v("gameDetail.cover","Cover")}),e.jsx("div",{className:"edit-collection-modal-media-description",children:v("gameDetail.coverFormat","Recommended format: WebP, ratio 2:3 (e.g., 400x600px)")})]}),e.jsx("div",{className:"edit-collection-modal-media-image-container",children:(()=>{const t=M?"":X||te,n=t&&t.trim()!=="";return e.jsxs(e.Fragment,{children:[e.jsx(re,{title:s.title,coverUrl:t,width:150,height:200,showTitle:!1,detail:!1,play:!1,showBorder:!0,aspectRatio:"3/4",onUpload:()=>!K&&!x&&Z.current?.click(),uploading:K,showRemoveButton:!!n&&!M,removeMediaType:"cover",removeResourceId:s.id,removeResourceType:"collections",onCollectionUpdate:z,onRemoveSuccess:o,removeDisabled:x||K},`cover-${M?"removed":X?"preview":te}`),e.jsx("input",{ref:Z,id:"edit-collection-cover-input",name:"cover",type:"file",accept:"image/*",style:{display:"none"},onChange:ee})]})})()})]}),e.jsxs("div",{className:"edit-collection-modal-media-row",children:[e.jsxs("div",{className:"edit-collection-modal-media-info",children:[e.jsx("div",{className:"edit-collection-modal-label",children:v("gameDetail.background","Background")}),e.jsx("div",{className:"edit-collection-modal-media-description",children:v("gameDetail.backgroundFormat","Recommended format: WebP, ratio 16:9 (e.g., 1920x1080px)")})]}),e.jsx("div",{className:"edit-collection-modal-media-image-container",children:(()=>{const t=c?"":A||oe,n=t&&t.trim()!=="";return e.jsxs(e.Fragment,{children:[e.jsx(re,{title:s.title,coverUrl:t,width:300,height:169,showTitle:!1,detail:!1,play:!1,showBorder:!0,aspectRatio:"16/9",onUpload:()=>!$&&!x&&Y.current?.click(),uploading:$,showRemoveButton:!!n&&!c,removeMediaType:"background",removeResourceId:s.id,removeResourceType:"collections",onCollectionUpdate:z,onRemoveSuccess:l,removeDisabled:x||$},`background-${c?"removed":A?"preview":oe}`),e.jsx("input",{ref:Y,id:"edit-collection-background-input",name:"background",type:"file",accept:"image/*",style:{display:"none"},onChange:ie})]})})()})]})]})]}),e.jsxs("div",{className:"edit-collection-modal-footer",children:[e.jsx("button",{className:"edit-collection-modal-cancel",onClick:T,disabled:x,children:v("common.cancel","Cancel")}),e.jsx("button",{className:"edit-collection-modal-save",onClick:i,disabled:x||!ae(),children:x?v("common.saving","Saving..."):v("common.save","Save")})]})]})}),document.body):null}function $e({onGameClick:f,onGamesLoaded:T,onPlay:s,allCollections:z=[]}){const{t:v}=de(),{setLoading:C,isLoading:k}=se(),{collections:y}=ge(),{collectionId:h}=me(),[E,x]=r.useState(null),[b,N]=r.useState([]),[w,W]=r.useState(!1),[J]=r.useState("grid"),[K,V]=r.useState(()=>{const o=localStorage.getItem("coverSize");return o?parseInt(o,10):150}),[$,I]=r.useState(null),[Z,Y]=r.useState(!1),X=r.useRef(null),R=r.useRef(new Map),A=r.useRef(!1),L=r.useRef(void 0);he(X);const O=o=>{V(o),localStorage.setItem("coverSize",o.toString())};r.useEffect(()=>{if(h&&h!==L.current){L.current=h,A.current=!1;const o=y.find(l=>String(l.id)===String(h));o?x({id:String(o.id),title:o.title,summary:o.summary,cover:o.cover,background:o.background}):G(h),A.current||F(h)}},[h]),r.useEffect(()=>{if(h&&!E){const o=y.find(l=>String(l.id)===String(h));o&&x({id:String(o.id),title:o.title,summary:o.summary,cover:o.cover,background:o.background})}},[y,h,E]),xe({setGames:N,enabledEvents:["gameUpdated","gameDeleted"]}),r.useLayoutEffect(()=>{!k&&E?requestAnimationFrame(()=>{requestAnimationFrame(()=>{W(!0)})}):k&&W(!1)},[k,E,b.length]);async function G(o){try{const l=B(D,`/collections/${o}`),i=await fetch(l,{headers:{Accept:"application/json","X-Auth-Token":Q()}});if(i.ok){const n=await i.json();x({id:String(n.id),title:n.title,summary:n.summary,cover:n.cover,background:n.background});return}const t=y.find(n=>String(n.id)===String(o));t&&x({id:String(t.id),title:t.title,summary:t.summary,cover:t.cover,background:t.background})}catch(l){const i=String(l.message||l);console.error("Error fetching collection info:",i)}}async function F(o){if(!A.current){A.current=!0,C(!0);try{const l=B(D,`/collections/${o}/games`),i=await fetch(l,{headers:{Accept:"application/json","X-Auth-Token":Q()}});if(!i.ok)throw new Error(`HTTP ${i.status}`);const m=((await i.json()).games||[]).map(a=>({id:a.id,title:a.title,summary:a.summary,cover:a.cover,background:a.background,day:a.day,month:a.month,year:a.year,stars:a.stars,executables:a.executables||null,themes:a.themes||null,platforms:a.platforms||null,gameModes:a.gameModes||null,playerPerspectives:a.playerPerspectives||null,websites:a.websites||null,ageRatings:a.ageRatings||null,developers:a.developers||null,publishers:a.publishers||null,franchise:a.franchise||null,collection:a.collection||null,screenshots:a.screenshots||null,videos:a.videos||null,gameEngines:a.gameEngines||null,keywords:a.keywords||null,alternativeNames:a.alternativeNames||null,similarGames:a.similarGames||null})),d=[...m].sort((a,H)=>{const S=a.year??0,ne=H.year??0;return S!==0&&ne!==0?S-ne:S!==0&&ne===0?-1:S===0&&ne!==0?1:0}),p=m.map(a=>a.id),g=d.map(a=>a.id),u=p.length===g.length&&p.every((a,H)=>a===g[H]);I(u?null:p),N(m),T(m)}catch(l){const i=String(l.message||l);console.error("Error fetching collection games:",i)}finally{C(!1),A.current=!1}}}const P=r.useMemo(()=>{if($&&$.length===b.length){const l=new Map(b.map(i=>[i.id,i]));return $.map(i=>l.get(i)).filter(Boolean)}const o=[...b];return o.sort((l,i)=>{const t=l.year??0,n=i.year??0;return t!==0&&n!==0?t-n:t!==0&&n===0?-1:t===0&&n!==0?1:ye(l.title||"",i.title||"")}),o},[b,$]),M=o=>{N(l=>l.map(i=>i.id===o.id?o:i)),window.dispatchEvent(new CustomEvent("gameUpdated",{detail:{game:o}})),h&&F(h)},q=o=>{N(l=>l.filter(i=>String(i.id)!==String(o.id)))},c=o=>{N(l=>l.filter(i=>String(i.id)!==String(o)))},j=async(o,l)=>{if(o===l)return;const i=[...P],[t]=i.splice(o,1);i.splice(l,0,t);const n=i.map(m=>m.id);if(I(n),N(i),h)try{const m=B(D,`/collections/${h}/games/order`),d=await fetch(m,{method:"PUT",headers:{"Content-Type":"application/json","X-Auth-Token":Q()},body:JSON.stringify({gameIds:n})});if(!d.ok)throw new Error(`HTTP ${d.status}`)}catch(m){const d=String(m.message||m);console.error("Error saving collection order:",d),I(null),F(h)}},U=r.useMemo(()=>{const o=b.map(t=>t.year).filter(t=>t!=null);if(o.length===0)return null;const l=Math.min(...o),i=Math.max(...o);return l===i?l.toString():`${l} - ${i}`},[b]),_=r.useMemo(()=>{const o=b.map(t=>t.stars).filter(t=>t!=null);return o.length===0?null:o.reduce((t,n)=>t+n,0)/o.length/10*5},[b]);if(!h)return e.jsx("div",{className:"bg-[#1a1a1a] text-white flex items-center justify-center",style:{width:"100%",height:"100%"},children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-gray-400",children:"Collection not found"})})});const te=E?.cover?le(D,E.cover,!0):"",oe=240,ae=360,ee=fe(D,E?.background),ie=!!(ee&&ee.trim()!=="");return e.jsx(be,{backgroundUrl:ee,hasBackground:ie,elementId:h||"",children:e.jsx(De,{collection:E,collectionCoverUrl:te,collectionCoverWidth:oe,collectionCoverHeight:ae,yearRange:U,averageRating:_,onPlay:s,sortedGames:P,onGameClick:f,onGameUpdate:M,onGameDelete:q,buildCoverUrl:(o,l,i)=>le(o,l,i??!1),coverSize:K,handleCoverSizeChange:O,viewMode:J,itemRefs:R,handleDragEnd:j,scrollContainerRef:X,isReady:w,isEditModalOpen:Z,onEditModalOpen:()=>Y(!0),onEditModalClose:()=>Y(!1),onCollectionUpdate:o=>{x(o)},t:v,allCollections:z,collectionId:h,onRemoveFromCollection:c})})}function De({collection:f,collectionCoverUrl:T,collectionCoverWidth:s,collectionCoverHeight:z,yearRange:v,averageRating:C,onPlay:k,sortedGames:y,onGameClick:h,onGameUpdate:E,onGameDelete:x,buildCoverUrl:b,coverSize:N,handleCoverSizeChange:w,viewMode:W,itemRefs:J,handleDragEnd:K,scrollContainerRef:V,isReady:$,isEditModalOpen:I,onEditModalOpen:Z,onEditModalClose:Y,onCollectionUpdate:X,t:R,allCollections:A=[],collectionId:L,onRemoveFromCollection:O}){const{hasBackground:G,isBackgroundVisible:F}=ke(),{isLoading:P}=se(),q=(()=>{let c=1;return v&&c++,C!==null&&c++,(k&&y.length>0||f)&&c++,Math.max(2,Math.min(6,7-c))})();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:G&&F?"game-detail-libraries-bar-transparent":"",style:{position:"relative",zIndex:1e3,pointerEvents:"auto"},children:e.jsx(we,{libraries:[],activeLibrary:{key:"collection",type:"collection"},onSelectLibrary:()=>{},loading:!1,error:null,coverSize:N,onCoverSizeChange:w,viewMode:W,onViewModeChange:()=>{}})}),e.jsx("div",{style:{position:"relative",zIndex:2,height:"100vh",display:"flex",flexDirection:"column"},children:e.jsx("div",{className:"home-page-main-container",style:{backgroundColor:"transparent",position:"relative",flex:1,overflow:"hidden",display:"flex",flexDirection:"column",minHeight:0},children:e.jsx("main",{className:"flex-1 home-page-content",style:{minHeight:0},children:e.jsx("div",{className:"home-page-layout",style:{minHeight:0},children:e.jsx("div",{className:"home-page-content-wrapper",style:{opacity:$?1:0,transition:"opacity 0.2s ease-in-out",minHeight:0},children:e.jsxs("div",{ref:V,className:"home-page-scroll-container",style:{paddingLeft:"64px",paddingRight:"64px",paddingTop:"5px",paddingBottom:"32px"},children:[f&&e.jsxs("div",{className:"pt-8",style:{display:"flex",flexDirection:"row",gap:"48px",alignItems:"flex-start",width:"100%",boxSizing:"border-box",marginBottom:"32px"},children:[e.jsx("div",{style:{flexShrink:0},children:e.jsx(re,{title:f.title,coverUrl:T,width:s,height:z,onPlay:k&&y.length>0?()=>{const c=y.find(j=>j.executables&&j.executables.length>0);c&&k(c)}:void 0,showTitle:!1,detail:!1,play:y.some(c=>c.executables&&c.executables.length>0),showBorder:!0})}),e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"16px",minHeight:`${z}px`,minWidth:0,visibility:"visible"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",visibility:"visible"},children:[e.jsx("h1",{className:"text-white",style:{visibility:"visible",display:"block",fontFamily:"var(--font-heading-1-font-family)",fontSize:"var(--font-heading-1-font-size)",lineHeight:"var(--font-heading-1-line-height)"},children:f.title}),v&&e.jsx("div",{className:"text-white",style:{opacity:.8,fontFamily:"var(--font-body-2-font-family)",fontSize:"var(--font-body-2-font-size)",lineHeight:"var(--font-body-2-line-height)"},children:v}),C!==null&&e.jsx(je,{rating:C}),k&&y.length>0||f?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"16px"},children:[k&&y.length>0&&y.some(c=>c.executables&&c.executables.length>0)&&e.jsxs("button",{onClick:()=>{const c=y.find(j=>j.executables&&j.executables.length>0);c&&k(c)},style:{backgroundColor:"#E5A00D",color:"#000000",border:"none",borderRadius:"4px",paddingTop:"6px",paddingBottom:"6px",paddingLeft:"8px",paddingRight:"12px",fontSize:"1.25rem",fontWeight:600,cursor:"pointer",transition:"background-color 0.2s ease",width:"fit-content",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",lineHeight:"1.2"},onMouseEnter:c=>{c.currentTarget.style.backgroundColor="#F5B041"},onMouseLeave:c=>{c.currentTarget.style.backgroundColor="#E5A00D"},children:[e.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",style:{display:"block"},children:e.jsx("path",{d:"M8 5v14l11-7z"})}),R("common.play")]}),f&&e.jsx(pe,{text:R("common.edit"),delay:200,children:e.jsx("button",{onClick:Z,className:"collection-detail-edit-button",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})}),f&&e.jsx(ve,{collectionId:f.id,collectionTitle:f.title,onCollectionDelete:c=>{f.id===c&&window.history.back()},onCollectionUpdate:X,horizontal:!0,className:"collection-detail-dropdown-menu",toolTipDelay:200})]}):null,f&&e.jsx(Ee,{isOpen:I,onClose:Y,collection:f,onCollectionUpdate:X}),f.summary&&e.jsx(Se,{summary:f.summary,maxLines:q})]})})]}),!P&&e.jsxs("div",{style:{width:"100%"},children:[e.jsx("div",{style:{paddingLeft:"0",marginBottom:"32px",marginTop:"8px"},children:e.jsxs("h2",{className:"text-white",style:{fontFamily:"var(--font-heading-2-font-family)",fontSize:"var(--font-heading-2-font-size)",lineHeight:"var(--font-heading-2-line-height)",fontWeight:600},children:[y.length," ",R("common.games")]})}),e.jsx("style",{children:`
                  .collection-detail-games-list .games-list-container {
                    justify-content: flex-start !important;
                  }
                `}),e.jsx("div",{className:"collection-detail-games-list",children:e.jsx(Ce,{games:y,onGameClick:h,onPlay:k,onGameUpdate:E,onGameDelete:x,buildCoverUrl:(c,j,U)=>b(c,j,U??!1),coverSize:N,itemRefs:J,draggable:!0,onDragEnd:K,allCollections:A,collectionId:L,onRemoveFromCollection:O})})]})]})})})})})})]})}export{$e as C,Ee as E};
