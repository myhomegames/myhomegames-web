import{u as x,r as i,j as t}from"./react-vendor-COHXxlBx.js";import{u as f}from"./page-CollectionsPage.tsx-BScl5VQq.js";import{u as b}from"./i18n-vendor-ClaDN9Oc.js";function S(){const{user:s,login:c,isLoading:l}=f(),d=x(),{t:n}=b(),[o,u]=i.useState(""),[r,g]=i.useState(""),[p,h]=i.useState(!1);i.useEffect(()=>{const e=localStorage.getItem("twitch_client_id"),m=localStorage.getItem("twitch_client_secret");!e||!m?h(!0):(u(e),g(m))},[]),i.useEffect(()=>{!l&&s&&d("/",{replace:!0})},[s,l,d]);const a=()=>{o&&r&&(localStorage.setItem("twitch_client_id",o.trim()),localStorage.setItem("twitch_client_secret",r.trim()),h(!1),c())};return l?null:t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"white"},children:[t.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem"},children:n("login.title","Welcome to MyHomeGames")}),p?t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{marginBottom:"1rem",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",maxWidth:"400px"},children:n("login.credentialsNeeded","Please enter your Twitch OAuth credentials to continue")}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"300px",marginBottom:"1.5rem"},children:[t.jsx("input",{type:"text",placeholder:"Twitch Client ID",value:o,onChange:e=>u(e.target.value),onKeyDown:e=>{e.key==="Enter"&&o&&r&&a()},style:{padding:"10px",borderRadius:"6px",border:"1px solid #444",backgroundColor:"#2a2a2a",color:"white",fontSize:"1rem"}}),t.jsx("input",{type:"password",placeholder:"Twitch Client Secret",value:r,onChange:e=>g(e.target.value),onKeyDown:e=>{e.key==="Enter"&&o&&r&&a()},style:{padding:"10px",borderRadius:"6px",border:"1px solid #444",backgroundColor:"#2a2a2a",color:"white",fontSize:"1rem"}})]}),t.jsx("button",{onClick:a,disabled:!o||!r,style:{padding:"12px 24px",fontSize:"1rem",backgroundColor:o&&r?"#9146FF":"#555",color:"white",border:"none",borderRadius:"6px",cursor:o&&r?"pointer":"not-allowed",fontWeight:600,transition:"background-color 0.2s ease",opacity:o&&r?1:.6},onMouseOver:e=>{o&&r&&(e.currentTarget.style.backgroundColor="#772CE8")},onMouseOut:e=>{o&&r&&(e.currentTarget.style.backgroundColor="#9146FF")},children:n("login.saveAndLogin","Save and Login with Twitch")})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{marginBottom:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:n("login.subtitle","Please login to continue")}),t.jsx("button",{onClick:()=>c(),style:{padding:"12px 24px",fontSize:"1rem",backgroundColor:"#9146FF",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600,transition:"background-color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#772CE8",onMouseOut:e=>e.currentTarget.style.backgroundColor="#9146FF",children:n("login.button","Login with Twitch")})]})]})}export{S as L};
