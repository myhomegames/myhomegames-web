import{u as b,r as l,j as t}from"./react-vendor-COHXxlBx.js";import{u as C}from"./page-CollectionsPage.tsx-BScl5VQq.js";import{u as f}from"./i18n-vendor-ClaDN9Oc.js";function j(){const{user:g,login:h,isLoading:a}=C(),m=b(),{t:r}=f(),[o,c]=l.useState(""),[i,s]=l.useState(""),[n,d]=l.useState(!1);l.useEffect(()=>{const e=localStorage.getItem("twitch_client_id")||"",u=localStorage.getItem("twitch_client_secret")||"";c(e),s(u),d(!!(e&&u))},[]),l.useEffect(()=>{!a&&g&&m("/",{replace:!0})},[g,a,m]);const x=()=>{!o.trim()||!i.trim()||(localStorage.setItem("twitch_client_id",o.trim()),localStorage.setItem("twitch_client_secret",i.trim()),d(!0))},p=()=>{!n&&(!o.trim()||!i.trim())||(n||x(),h())};return a?null:t.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1a1a1a",color:"white",padding:"2rem"},children:[t.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem"},children:r("login.title","Welcome to MyHomeGames")}),n?t.jsx("p",{style:{marginBottom:"2rem",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",maxWidth:"400px"},children:r("login.subtitle","Please login to continue")}):t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{marginBottom:"1.5rem",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",maxWidth:"400px"},children:r("login.enterCredentials","Enter your Twitch OAuth credentials to continue")}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"400px",marginBottom:"1.5rem"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.8)"},children:r("login.clientId","Client ID")}),t.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:r("login.clientIdPlaceholder","Enter your Twitch Client ID"),style:{width:"100%",padding:"10px",fontSize:"1rem",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"6px",boxSizing:"border-box"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.8)"},children:r("login.clientSecret","Client Secret")}),t.jsx("input",{type:"password",value:i,onChange:e=>s(e.target.value),placeholder:r("login.clientSecretPlaceholder","Enter your Twitch Client Secret"),style:{width:"100%",padding:"10px",fontSize:"1rem",backgroundColor:"#2a2a2a",color:"white",border:"1px solid #444",borderRadius:"6px",boxSizing:"border-box"}})]})]}),t.jsx("p",{style:{marginBottom:"1.5rem",color:"rgba(255, 255, 255, 0.5)",textAlign:"center",maxWidth:"400px",fontSize:"0.85rem"},children:r("login.credentialsHelp","You can get your Twitch Client ID and Client Secret from the Twitch Developer Console.")})]}),t.jsx("button",{onClick:p,disabled:!n&&(!o.trim()||!i.trim()),style:{padding:"12px 24px",fontSize:"1rem",backgroundColor:!n&&(!o.trim()||!i.trim())?"#555":"#9146FF",color:"white",border:"none",borderRadius:"6px",cursor:!n&&(!o.trim()||!i.trim())?"not-allowed":"pointer",fontWeight:600,transition:"background-color 0.2s ease",opacity:!n&&(!o.trim()||!i.trim())?.6:1},onMouseOver:e=>{!n&&(!o.trim()||!i.trim())||(e.currentTarget.style.backgroundColor="#772CE8")},onMouseOut:e=>{!n&&(!o.trim()||!i.trim())||(e.currentTarget.style.backgroundColor="#9146FF")},children:r("login.button","Login with Twitch")}),n&&t.jsx("button",{onClick:()=>{d(!1),c(""),s(""),localStorage.removeItem("twitch_client_id"),localStorage.removeItem("twitch_client_secret")},style:{marginTop:"1rem",padding:"8px 16px",fontSize:"0.85rem",backgroundColor:"transparent",color:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.color="rgba(255, 255, 255, 0.9)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseOut:e=>{e.currentTarget.style.color="rgba(255, 255, 255, 0.6)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"},children:r("login.changeCredentials","Change Credentials")})]})}export{j as L};
