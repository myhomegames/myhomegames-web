import{r as o,j as r}from"./react-vendor-jNdKP8wU.js";import{u as R,d as g,h as L}from"./page-CategoriesPage.tsx-PfePlHQa.js";import{e as b,g as p,A as x}from"./page-CategoryPage.tsx-Ct3nuy93.js";function G({onGameClick:n,onGamesLoaded:t,onPlay:d,coverSize:s,viewMode:a,allCollections:c=[]}){const{isLoading:u,setLoading:i}=R(),{isLoading:l}=g(),e=b({localStoragePrefix:"library",defaultFilterField:"all",waitForAuth:!0,listenToMetadataReload:!0,gameEvents:["gameUpdated"],scrollRestorationMode:a==="table"?void 0:a});o.useEffect(()=>{i(l||!e.isReady)},[l,e.isReady,i]);const f=o.useCallback(m=>{t(m)},[t]);return r.jsx("main",{className:"flex-1 home-page-content",children:r.jsxs("div",{className:"home-page-layout",children:[r.jsx(p,{hook:e,viewMode:a,coverSize:s,isLoading:u,isReady:e.isReady,allCollections:c,onGameClick:n,onGamesLoaded:f,onPlay:d,buildCoverUrlFn:L}),e.sortField==="title"&&e.isReady&&r.jsx(x,{games:e.filteredAndSortedGames,scrollContainerRef:a==="table"?e.tableScrollRef:e.scrollContainerRef,itemRefs:e.itemRefs,ascending:e.sortAscending,virtualizedGridRef:a==="grid"&&e.scrollContainerRef.current?e.scrollContainerRef.current.__virtualizedGridRef:void 0,virtualizedListRef:a==="detail"&&e.scrollContainerRef.current?e.scrollContainerRef.current.__virtualizedListRef:void 0,viewMode:a,coverSize:s})]})})}export{G as L};
